@{
    ViewBag.Title = "Simulation Comparing";
    Layout = "_Layout";
    int simid = (int)ViewData["simId"];
    int simNr = (int)ViewData["simNr"];
}
<style>
    .modal-dialog {
        width: 95%;
        height: 80%;
        overflow-x: auto;
        overflow-y: auto;
    }
    .modal-dialog > .modal-content {
        padding-top: 25px;
        height: 100%;
    }

</style>
<h2>Simulation Comparing</h2>


<hr/>
<div class="container-fluid">
    <div class="row">
        <div class="col-md-6">
            <div class="row">
                <div class="col-md-12">
                    <div style="font-size: x-large" class="pull-left"><b>Decentral</b></div>
                    
                    <!-- asp-route="SimulationTimeline/SimulationCompare/-1/Decentral/3/1/@simid" -->
                    <a href="/SimulationCompare/SimulationTimeline/-1/Decentral/3/1/@simid"   
                       data-target="#modal-container" data-toggle="modal" class="btn btn-default pull-right">
                        <span class="glyphicon glyphicon-tasks" aria-hidden="true"></span>
                    </a> 
                    <button class="btn btn-default pull-right" onclick="MachineWorkLoads(@simid, 'Decentral', 1, 1)">Show Over Time</button>
                    <!-- Machine Workloads -->
                </div>
            </div>
            <hr />
            <div class="row">
                <div class="col-md-12">
                    <h4>Machine Workloads</h4>
                    <div id="machineWorkload_Decentral" class="machineWorkload loading"></div>
                    <!-- Machine Workloads -->
                </div>
            </div>
            <hr />
            <div class="row">
                <div class="col-md-12">
                    <h4>Product Lead Times</h4>
                    <div id="leadtime_Decentral" class="loading"></div>
                    <!-- Lead Time -->
                </div>
            </div>
            <hr/>
            <div class="row">
                <div class="col-md-12">
                    <h4>Order Timeliness</h4>
                    <div id="timeliness_Decentral"class="loading"></div>
                    <!-- Order Timeliness -->
                </div>
            </div>
            <hr/>
            <div class="row">
                <div class="col-md-12">
                    <h4>Stock Evolution</h4>
                    <div id="stockevolution_Decentral" class="loading"></div>
                    <!-- Stock Evolution -->
                </div>
            </div>
            <hr/>
            <div class="row">
                <div class="col-md-12">
                    <h4>Article Idle Time</h4>
                    <div id="ArticleIdlePeriod_Decentral" class="loading"></div>
                    <!-- Idle Times -->
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="row">
                <div class="col-md-12">
                    <div style="font-size: x-large" class="pull-left"><b>Central</b></div>
                    <a href="/SimulationCompare/SimulationTimeline/-1/Central/3/1/@simid"
                       data-target="#modal-container" data-toggle="modal" class="btn btn-default pull-right">
                        <span class="glyphicon glyphicon-tasks" aria-hidden="true"></span>
                    </a>
                    <button class="btn btn-default pull-right" onclick="MachineWorkLoads(@simid, 'Central', 1, 1)">Show Over Time</button>
                    <!-- Machine Workloads -->
                </div>
            </div>
            <hr />
            <div class="row">
                <div class="col-md-12">
                    <h4>Machine Workloads</h4>
                    <div id="machineWorkload_Central" class="machineWorkload loading"></div>
                    <!-- Machine Workloads -->
                </div>
            </div>
            <hr />
            <div class="row">
                <div class="col-md-12">
                    <h4>Product Lead Times</h4>
                    <div id="leadtime_Central" class="loading"></div>
                    <!-- Lead Time -->
                </div>
            </div>
            <hr />
            <div class="row">
                <div class="col-md-12">
                    <h4>Order Timeliness</h4>
                    <div id="timeliness_Central" class="loading"></div>
                    <!-- Order Timeliness -->
                </div>
            </div>
            <hr />
            <div class="row">
                <div class="col-md-12">
                    <h4>Stock Evolution</h4>
                    <div id="stockevolution_Central" class="loading"></div>
                    <!-- Stock Evolution -->
                </div>
            </div>
            <hr />
            <div class="row">
                <div class="col-md-12">
                    <h4>Article Idle Time</h4>
                    <div id="ArticleIdlePeriod_Central" class="loading"></div>
                    <!-- Idle Times -->
                </div>
            </div>
        </div>
    </div>
</div>
<div id="modal-container" class="modal fade hidden-print" tabindex="-1" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="loading center-div"> </div>
        </div>
    </div>
</div>


    <script>

        $(document).ready(function () {
            $('#main').removeClass("container").addClass("container-fluid").css("overflow-x", "hidden");
            MachineWorkLoads(@simid, "Decentral", @simNr, 0);
            MachineWorkLoads(@simid, "Central", @simNr, 0);
            Timeliness(@simid, "Decentral", @simNr);
            Timeliness(@simid, "Central", @simNr);
            ProductLeadTime(@simid, "Decentral", @simNr);
            ProductLeadTime(@simid, "Central", @simNr);
            StockEvolution(@simid, "Decentral", @simNr);
            StockEvolution(@simid, "Central", @simNr);
            ArticleIdlePeriod(@simid, "Central", @simNr);
            ArticleIdlePeriod(@simid, "Decentral", @simNr);
            // Load Parts
        });


        function MachineWorkLoads(simulationId, simType, simNr, overTime) {
            $.ajax({
                url: "/SimulationCompare/MachinesWorkLoad/" + simulationId + "/" + simType + "/" + simNr + "/" + overTime,
                async: true,
                context: document.body
            }).done(function (data) {
                $('#machineWorkload_' + simType).removeClass('loading');
                $('#machineWorkload_' + simType).html(data);
            });
        }


        function Timeliness(simulationId, simType, simNr) {
            $.ajax({
                url: "/SimulationCompare/Timeliness/" + simulationId + "/" + simType + "/" + simNr,
                async: true,
                context: document.body
            }).done(function (data) {
                $('#timeliness_' + simType).removeClass('loading');
                $('#timeliness_' + simType).html(data);
            });
        }

        function ProductLeadTime(simulationId, simType, simNr) {
            $.ajax({
                url: "/SimulationCompare/ProductLeadTimeBoxPlot/" + simulationId + "/" + simType + "/" + simNr,
                async: true,
                context: document.body
            }).done(function (data) {
                $('#leadtime_' + simType).removeClass('loading');
                $('#leadtime_' + simType).html(data);
            });
        }

        function StockEvolution(simulationId, simType, simNr) {
            $.ajax({
                url: "/SimulationCompare/StockEvolution/" + simulationId + "/" + simType + "/" + simNr,
                async: true,
                context: document.body
            }).done(function (data) {
                $('#stockevolution_' + simType).removeClass('loading');
                $('#stockevolution_' + simType).html(data);
            });
        }

        function ArticleIdlePeriod(simulationId, simType, simNr) {
            $.ajax({
                url: "/SimulationCompare/IdlePeriod/" + simulationId + "/" + simType + "/" + simNr,
                async: true,
                context: document.body
            }).done(function (data) {
                $('#ArticleIdlePeriod_' + simType).removeClass('loading');
                $('#ArticleIdlePeriod_' + simType).html(data);
            });
        }


    </script>
